var DEMO;!function(a){var b=function(){function b(){}return b.prototype.ready=function(){new a.Controller},b}();$(function(){var a=new b;a.ready()})}(DEMO||(DEMO={}));var DEMO;!function(a){var b=function(){function b(){this.layout=new a.Layout,this.promise=new Infra.Promise,this.index()}return b.prototype.index=function(){var b=this.layout;this.promise.done(function(c){var d=new a.GistsViewModelFactory(c),e=d.createGistEntryListViewModel(),f=new a.GistEntryListView(e);b.display(f.$el)})},b}();a.Controller=b}(DEMO||(DEMO={}));var Infra;!function(a){var b=function(){function a(){}return a.resolve=function(){var b=a.getApiPath(),c=$.ajax({type:"get",url:b,dataType:"jsonp",async:!0});return c},a.getApiPath=function(){return"https://api.github.com/gists"},a}();a.GistsAPI=b;var c=function(){function a(){return b.resolve()}return a}();a.Promise=c}(Infra||(Infra={}));var DDD;!function(a){var b=function(){function a(a){this.identity=a}return a.prototype.getIdentity=function(){return this.identity},a.prototype.equals=function(a){return this.getIdentity()===a.getIdentity()},a}();a.Entity=b}(DDD||(DDD={}));var DDD;!function(a){var b=function(){function a(a){this.value=a}return a.prototype.getValue=function(){return this.value.toString()},a.prototype.getIdentity=function(){return this.value},a}();a.Identity=b}(DDD||(DDD={}));var HACKLE;!function(a){function b(a){var b=a.split(" "),c=b.shift(),d=b.join(" ");return{eventName:c,selector:d}}function c(a){return a instanceof jQuery}var d=function(){function a(a){"undefined"==typeof a&&(a={}),this.tagName="div",this.attributes={},this.events={},this.tagName=a.tagName||"div",this.id=a.id||"",this.className=a.className||"",this.attributes=a.attributes||{},this.$el=c(a.$el)?a.$el:$("<"+this.tagName+">"),this.reflectAttribute()}return a.prototype.render=function(){return this},a.prototype.reflectTagName=function(){this.$el=$("<"+this.tagName+">")},a.prototype.reflectAttribute=function(){var a={};""!==this.id&&(a.id=this.id),""!==this.className&&(a["class"]=this.className);for(var b in this.attributes)a[b]=this.attributes[b];this.$el.attr(a)},a.prototype.delegateEvents=function(a){var c=this;return $.map(a,function(a,d){var f=new e(a),g=b(d);c.$el.on.call(c.$el,g.eventName,g.selector,f.data,f.method)}),this},a}();a.View=d;var e=function(){function a(a){this.data=null,"object"==typeof a?(this.method=a[0],this.data=a[1]):this.method=a}return a}(),f=function(){function a(a){this.hbsName=a}return a.prototype.render=function(a){"undefined"==typeof a&&(a={});var b,c=this.hbsName,d=$.ajax({url:c,type:"get",dataType:"html",async:!1});return d.done(function(c){var d=Handlebars.compile(c);b=d(a)}),b},a}();a.HBSTemplate=f;var g=function(){function a(a){this.hbs=a}return a.prototype.render=function(a){"undefined"==typeof a&&(a={});var b=Handlebars.compile(this.hbs),c=b(a);return c},a}();a.HBSTemplateFromString=g,a.isJQuery=c}(HACKLE||(HACKLE={}));var Util;!function(a){function b(){return"6"===e()?!0:!1}function c(){return"7"===e()?!0:!1}function d(){return"8"===e()?!0:!1}function e(){return-1!=navigator.appName.toUpperCase().indexOf("EXPLORER")?navigator.appVersion.toUpperCase().split(";")[1].charAt(6):null}function f(){return"placeholder"in document.createElement("input")}function g(a){return 0===a.length?!0:!1}a.isIe6=b,a.isIe7=c,a.isIe8=d,a.hasPlaceholder=f,a.isEmpty=g;var h=function(){function a(){}return a.splitFullYear=function(a){return a.getFullYear().toString()},a.splitMonth=function(a){return(a.getMonth()+1).toString()},a.splitDay=function(a){return a.getDate().toString()},a}();a.DateSplitter=h}(Util||(Util={}));var DEMO;!function(a){var b=function(){function b(){}return b.createGistEntry=function(b){var c=new a.Model.GistEntryID(b.id),d=new a.Model.Gist(new a.Model.GistID(b.id),new a.Model.GistDescription(b.description),new a.Model.GistUrl(b.html_url)),e=new a.Model.Owner(new a.Model.OwnerID(b.owner.id),new a.Model.OwnerName(b.owner.login),new a.Model.OwnerUrl(b.owner.html_url),new a.Model.Avatar(b.owner.avatar_url));return new a.Model.GistEntry(c,d,e)},b}();a.GistEntryFactory=b}(DEMO||(DEMO={}));var DEMO;!function(a){var b=function(){function b(){}return b.resolve=function(b){return a.GistEntryFactory.createGistEntry(b)},b}();a.GistEntryRepository=b}(DEMO||(DEMO={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DEMO;!function(a){!function(a){var b=function(){function a(a){this.value=a}return a}();a.Name=b;var c=function(){function a(a){this.value=a}return a}();a.Url=c;var d=function(){function a(a){this.value=a}return a}();a.Description=d;var e=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(DDD.Identity);a.GistID=e;var f=function(a){function b(b,c,d){a.call(this,b),this.gistDescription=c,this.gistUrl=d}return __extends(b,a),b}(DDD.Entity);a.Gist=f;var g=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(d);a.GistDescription=g;var h=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(c);a.GistUrl=h;var i=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(DDD.Identity);a.OwnerID=i;var j=function(a){function b(b,c,d,e){a.call(this,b),this.ownerName=c,this.ownerUrl=d,this.avatar=e}return __extends(b,a),b}(DDD.Entity);a.Owner=j;var k=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(b);a.OwnerName=k;var l=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(c);a.OwnerUrl=l;var m=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(DDD.Identity);a.GistEntryID=m;var n=function(a){function b(b,c,d){a.call(this,b),this.gist=c,this.owner=d}return __extends(b,a),b}(DDD.Entity);a.GistEntry=n;var o=function(){function a(a){this.avatarUrl=a}return a}();a.Avatar=o;var p=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(c);a.AvatarUrl=p;var q=function(){function a(a){var b=new Date(a);this.fullYear=Util.DateSplitter.splitFullYear(b),this.month=Util.DateSplitter.splitMonth(b),this.day=Util.DateSplitter.splitDay(b)}return a}();a.AtDate=q;var r=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(q);a.CreatedAtDate=r;var s=function(a){function b(b){a.call(this,b)}return __extends(b,a),b}(q);a.UpdatedAtDate=s}(a.Model||(a.Model={}));a.Model}(DEMO||(DEMO={}));var DEMO;!function(a){var b=function(){function a(a){this.gistEntry=a}return a}();a.GistEntryViewModel=b}(DEMO||(DEMO={}));var DEMO;!function(a){var b=function(){function b(a){this.args=a}return b.prototype.createGistEntryViewModel=function(){var b=a.GistEntryRepository.resolve(this.args.data[0]);return new a.GistEntryViewModel(b)},b.prototype.createGistEntryListViewModel=function(){var b=[];return $.map(this.args.data,function(c){b.push(new a.GistEntryViewModel(a.GistEntryRepository.resolve(c)))}),b},b}();a.GistsViewModelFactory=b}(DEMO||(DEMO={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DEMO;!function(a){var b=function(b){function c(a){b.call(this),this.viewmodels=a,this.tagName="section",this.className="unit",this.reflectTagName(),this.reflectAttribute(),this.render()}return __extends(c,b),c.prototype.render=function(){this.$el.append(this.renderHeaderTemplate());var a=this;return $.each(this.renderGistEntryListView(),function(){a.$el.append(this.$el)}),this.$el.append(this.renderFooterTemplate()),this},c.prototype.renderHeaderTemplate=function(){var a=new HACKLE.HBSTemplate("hbs/header.hbs");return a.render({title:"update Gists"})},c.prototype.renderFooterTemplate=function(){var a=new HACKLE.HBSTemplate("hbs/footer.hbs");return a.render({author:"funnythingz"})},c.prototype.renderGistEntryListView=function(){return $.map(this.viewmodels,function(b){return new a.GistEntryView(b)})},c}(HACKLE.View);a.GistEntryListView=b}(DEMO||(DEMO={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DEMO;!function(a){var b=function(a){function b(b){a.call(this),this.viewmodel=b,this.tagName="article",this.className="cassette",this.events={"click .owner":[this.jumpToOwnerPage,this.viewmodel.gistEntry.owner.ownerUrl.value]},this.reflectTagName(),this.reflectAttribute(),this.delegateEvents(this.events),this.render()}return __extends(b,a),b.prototype.render=function(){return this.$el.append(this.renderTemplate()),this},b.prototype.jumpToOwnerPage=function(a){location.href=a.data},b.prototype.renderTemplate=function(){var a=new HACKLE.HBSTemplate("hbs/gist-entry.hbs");return a.render(this.viewmodel.gistEntry)},b}(HACKLE.View);a.GistEntryView=b}(DEMO||(DEMO={}));var DEMO;!function(a){var b=function(){function a(){}return a.hoge=function(){return""},a}();a.Helper=b,Handlebars.registerHelper("hoge",b.hoge)}(DEMO||(DEMO={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DEMO;!function(a){var b=function(a){function b(){a.call(this),this.$el=$("body")}return __extends(b,a),b.prototype.display=function(a){this.$el.append(a)},b}(HACKLE.View);a.Layout=b}(DEMO||(DEMO={}));